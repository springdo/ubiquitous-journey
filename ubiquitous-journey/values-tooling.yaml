# Over rides for default values in Helm Charts
destination: &ci_cd_ns my-ci-cd

##############
# üõé Jenkins Custom Values
#############
jenkins_values: &jenkins_values
  source_secrets: {}
  sealed_secrets:
    - name: git-auth
      password: AgB5TubkWImIq4uikIR523aYuy+0mTqtCKTs2UU3JZi6XSr0/ePeVmOSTCwgmK1bwtkrTsAvhAbolbf+FDcEcJyIWbHnwj3Ocp2/YBKpNrmnnc+BQHFgM+3GbBeG3ZPGJP7dPya0vmf/IWjWurHOzGl4ltI6Wya9X7f25OSG4JAWKQN8mefFEMqNs8uDVPHKdCm3eKWdR8rwVrMCdFB3wv8O+Rls1vHoLgJZsfyHm79XwUlReGuquXB+3/n9owTRhD9aTaWTEFiAzkk9p11epoPqCIDEJlMbfoD1aaWlKOtMRFQNHHh4tol52LrcV+F1/SMsKCiW1vKoyqOWR4GNIkJIwTN4Jzn8jDB5D3UhjHyUA0GrTTas1cg4OIas4EVZSak6R4tTDAMlqIL6hxbZqK1K5SwY6/R25zcRCjAXaRHu0/CnXU4DH76pP+BU2BR/hWp7+VoLHXt/SYkRFchlRreicEEhKXSAczNC+ASjl1L3Z3syqR75Nl8yqSkavHt3waOdypCpssGCZrqvOnYDWKlBcRg7sdZ5n+sw0/J0pb396t0HUtT3LJ0TMwCn3bOkae0+SGBv95fSn4QJPI4nELzzeKeF5B3GLofuXWHOgkRTyb14/bo1x4h9JBFLQwNvJtYBntq6tMj30nvZBBCTbetvGx6dOOW4DKAly/kADgLF2K6wzYWSmet8PGcllOx6Gd4fO8W2hPEQBQ//I7iVYJwp1j8T3GWXkZGRgPDHMTJD+K8vNEYddLYV
      username: AgCa5xZ+OfA9AQ6yHtWmSmY7gGprpQDtls2qkIM4668WpUEB1m1F438EmvYOs7/EC1XFgML9yMPH57C1GFtOo55MHdkdnzerDrAEM6aeFaRAJzJny9vSgwMU+5YEMpfM4IpUV/3GnAxC//gjsWtsuoDBIvyHVEr1fCfEqgUthBE0BBiI1kMrfmraosn1qjPEFHzLDJHY9GSOHIt6JTVDnLfXM422+mW6T0TwWErx0KZeVFOMrJsnY0OdaWDn7hvK9wsc0cr5PBHsFS9WRB/99bc5lDAR7Gtk8K/GDzTT7mRtPoM6vpVsjvhbXNNC2UYocoEkFMkHPLHKDmAPuuMRhgkfhhTs2MRj2A8iCkzvwWjrdlGJ7QjXEDR5hiB0tEudZqp9up300UfQeUGJXIpUx9g+qk931fV6Ru79fUo0pSq1VneN0jE1XPl/IjpmzKi6Gt17SKinu2k48k+Y7u7RaJM3+ByEeeYzqv3autnf89EG+RAS7ljgJKRIDX5AGeor9P16QM7zPobnvu0bVNbzvF93WPx/pOXFeh3UiP8mbwMI8Zv0RzUZl/AQuOaaZv9dNyGkTJZDCVUKN5YtVS/eBEMixTxIIMSp2iaOHeipn2wiymPiHmdHlhoxCeuJcqAw0/cEwhJs1O+z4z1GubidDAOgndf93ajjEjHzjUhusfmgGL+HfnsV2LNgZOMnAjoi9i9aZCyoNHjAYQ==
    - name: nexus-password
      password: AgCt5eaBg2CmXkwlPOsCyzsUu/6FxP7VH/YnKVv+eSHnR397KQCfz0X3JASRCKZvIRUIJPJMHb9rjaJ/g9EM4v1GSbIP5KW7gL1DMUSoeHtU69+9A7QYB9VF3PbGPS7vhPaxjBN7PLp4ulkgb9j4TLHb8+sQR7zLykr/mF5YeaYpwYwlsa3+s7SAkvIpdq9gMzZN8LORfhcrJCOp7WVKDRBxYSHv1OtQVWR4xPL6hyFjkELhiiGI3LStSNChr6uHFu6WEJT/CIxql45qaczieZU+uRJ3klVQUQ7V+XvhUIRIyB3I/AfDyBmXcYBXSIukkFWF5+WeI07iKeTkGoWHy5aGkY+Cn8Ts1y3fHBtaCLI1H+MNol0APWrt4QzLhoLRQEi9d6R0D5pe5F9PAj6zcTbQPrZ1S1318smM7Y5KKh+7QpX5okSYKt4wJUu6YE+QpadhvNVwGt5UYIZiDx3QtsUs2Vs7EvDKRjZxNomqSqcjIaF/Pgf/o6TvHxNYnZVTD/yDpJjKoKWkf2pFGZsbLMZLhnNSfeQnBgSGIrFQDMZF4ekt1DPGE/pPOzbbrJM2nCsXFo1ult6nID7zb45rNO0ao1ciQbrWA4VMHeBVmlWXGsSAqHZqDYf9PonFsK8KKVfV1wtlbzx5awwvacBC3feuaFd9zemL/Hk0xzfJ7pT8pSEOBYf+Yx6GYAFMoai4UnGz7NN0wVqt4A==
      username: AgBgnWfOMW4OjZiNjoT0ziWNVCVYc7QrSGxQtj7+xNa0YTYzgm5fFrIavatfCLkerLvbIrRfIhfw47G0Wb/aLhXtDFuGhO9p+ZU3cSTyhvhUdATbKWOFvvhfnua4g8mchdi5bT70Wo8xlvdyCPk7nz8iyADZMIN1BhaJZihzUgdxlMXJwFWL7dD1XmVbtVLYuCe4NZWWyIco8ytclD53VI0zwK/SdzwcRxVPV2Yp29hJ9s51lgtLOPQasG1HcrN9nfl0XO/ts+CsEuqdQgg0wKBNWF2oTnLqhBH4T+w2sczZ9mdOWt//JjTuCObb6/b3LGCbNHj8KVvIL1/dIO+nQj+dpJ6sLFdJNVG4XA2TwiLVEJ6pKvwn7NyMSGPEb/Lq0654EZtwbcv4Sb4PCM1j4PtN64WBRITSku4dt1ey/SVVVI4vM0Xfb1qqnryPxdNzJ4q1JnmP/gfJobOAwwHSs/Si7UKA3M67w52LztNNgncUVDB7Ol5P+kGVsxL0S5ODJutYtEHs8ltPeaagYEg68PNgTv8vsnXIIwpGr3cu9XYWZWt8zJapJmXPP1icuLePu4G1CQ9m1bzuEllMiMLRX4/l778gESKOzIBHyQeICPQW4IY8Oa3kl44n2SaB4l8I+C+ODoVn0+aM9EWr+8tuDyWX44C8+eNW6Qu+nUczUxVLMU226Vg2fyOEn48C2bh75dE84qpxdA==
    - name: argocd-token
      password: AgBlsli0dLP5KKx/ex2i2HO3gDNOGv0lTwadLe3mXAGL+ZYbH7DcU1C5QpCAzFK7vHp54UBsCny+87DLKu/YHSiZW+Qs22VfMzri6UZ2nRTJhCGyMonCkweweKz33w63pbgXrb2lIYyKLe8QWv10dcDoIjflsYUFdh6xEYefpFzbZO0lVL68nvcb4mz1lu1TUYEDF+slCpRIdShxSyWDB8BmbkVw7o/F+5eNf3JZBWM4Skv1Xk7EgPSDe9DPHYx/xf3KEiOMwsqqSBmB8OrAmtC6YVsF0SqT7aSHu5T6IbKUKmmWmikKiRqUN5OGpBMH3ajvvZM7NvmhnX9un9S1dI7UsQtzKZ8FaK7AF+GWGDcIxcZcfzBXZ/fA9xv0SeaRaur35Kfz258GXdIawkdlE44KwFy3rlWFI/7rCK2ilyBZlcFRr+ohl5QQGJKfAnNZF37DIHYeJURhb61/feYGyApnQQ3Gr7Lx8DY9dn5iL/mEgNBvsfapI2QtNI6ZXW+QTbyVSRufK3joJ6Dft/QcxtxPvl0zZwlyv2CCpOp2uM3TTs9Oh9YKwI7gSl6M7W3rKvB7rPCf27lTMghEJXCP8lwiko3A4jgm+zA2bITBx472mcztVhXT4Yhu+sXVYL+hdx3THW5zWJssi7mNTxbCH+zzla+VYBwVLc+WVt3/1NFmLnwKVz7e8QChI2UJ3mN0ZAp9N9YTKT0O9ciDk+IB11eRy2P/BXAF+ihwFUPKOj3hfSQmr8kGvSOonaym3oi6UtqNoceJPyRGHeWZuaFyjBghuNi3dHVCOQVuwNHq+H3kV73JSHeO02PSeBzldvwdaqx95N2bF/r1bN784olYPT5BbUM5RKAT+tdGjwlJEgL6yrD8Viups0Jekl2xocRJ/QffIJTxDw2AbVQ5+ws4i9I7y+SbPaxyI3TyRGQVUQHGvV6hMPKbvtT07c5qj0m9l1vawfXVbT5FjAqTNKVQ0T8XDEFwjr14f9aWFRoLHMhVQm8v6w==
      username: AgCKX5zaHyjxDqDtH/iepn05EvYObq7h2MRWCoLcJCiy7xMMNC0nS14WvTg6WtfbxJZ5DRKLfSkVJio2bAodNADFkVfrftkBAr02ESuM5JQ0J8h023gP3Qp9ohd13TytKYWuUWDfs1nRoNKYZGpG8d0LffCs36iXec8euECov4uQW13Zu5sDTY9gcHPnu/RKiMc2KFvJ4J0R/tcz/iyKALA3O6OdUHjT6UNDLJ7BnXQX7HjDtwyAGIoDDjvl9znCX7YJbukZnNWi+Q6oQs9VokK1eGwbsbRpU5fnjoSuNg3d7K3oxb3l5gyCqkqXnDbeOh+oeFqki8iKKNl6S3Zs1iHpKVabbfocRCd9K9xQwmTnrWgT61wznqIuSYPiXcJZ4EGy62hjvLz34Z6atr0KqdgO4cKcSCsczeIi9LYoyzW8cVGfEjRyPTlGXj1str1QeoEQ15wgVnXE7nVYL2+7GEVlrh8GKtvZTdGLxZ9L+cBzWO+4TMGUBIHf/Raq3uXpWpo/8BYTO9ZL7ypWqDhlYuD1Xdd/jXU0g2IReqbA/EqONJd4iWts9rpbd+Ok0hrQZy+R6vL4Tu38ruKGMMtcvrE9tCxSSmySlj3gNm6tS4Ojx/QSinqTz/7XkNDc+lJ8SSG6z8Tilzw6u0IAM/Grvw/jmi4ePprb2o56cIHdG8LYHqwZjFSxi3xFyDfB9bREd57kW7hnzw==
##############
# üõé Pact Broker Custom Values
#############
pact_broker_values: &pact_broker_values
  secrets:
    name: pact-broker-secrets
    keys:
      pactBrokerDatabaseUsername: pact_broker_database_username
      pactBrokerDatabasePassword: pact_broker_database_password
      pactBrokerAdmin: pact_broker_admin
      pactBrokerAdminPassword: pact_broker_admin_password
      pactBrokerBasicAuthUsername: pact_broker_user
      pactBrokerBasicAuthPassword: pact_broker_user_password
    values:
      pactBrokerDatabaseUsername: pact_broker_user
      pactBrokerDatabasePassword: thisisdefinitelynotmypassword
      pactBrokerAdmin: admin
      pactBrokerAdminPassword: thisisdefinitelynotmypassword
      pactBrokerBasicAuthUsername: dev
      pactBrokerBasicAuthPassword: thisisdefinitelynotmypassword

##############
# üõé Zalenium Custom Values
#############
## TODO: Update source URL as upstream when ArgoCD version is greater 1.5.0 or above
zalenium_values: &zalenium_values
  hub:
    serviceType: ClusterIP
    openshift:
      deploymentConfig:
        enabled: true
      route:
        enabled: true
    persistence:
      enabled: false
    serviceAccount:
      create: false
    desiredContainers: 0
    podAnnotations:
      app: zalenium

##############
# üõé Hoverfly Custom Values
# Values reference https://github.com/helm/charts/tree/master/incubator/hoverfly
#############
hoverfly_values: &hoverfly_values
  replicaCount: "1"
  openshift:
    route:
      admin:
        enabled: true
        hostname: ""
      proxy:
        enabled: true
        hostname: ""

##############
# üõé Wekan Custom Values
# Values reference https://github.com/wekan/wekan/tree/master/helm/wekan
#############
wekan_values: &wekan_values
  service:
    type: ClusterIP
  autoscaling:
    enabled: false
  mongodb-replicaset:
    replicas: 1
    securityContext:
      runAsUser: ""
      fsGroup: ""
  ingress:
    enabled: false
  route:
    enabled: true

##############
# üõé Mattermost Custom Values
# Values reference https://github.com/mattermost/mattermost-helm
#############
mattermost_values: &mattermost_values
  route:
    enabled: true
  mysql:
    mysqlRootPassword: "mysqlpass"
    mysqlUser: "mattermost"
    mysqlPassword: "matterpass"

##############
# üõé Owncloud Custom Values
#############
owncloud_values: &owncloud_values
  route:
    enabled: true
  hostname: owncloud.apps.hivec.sandbox1559.opentlc.com

#######################
# Vault Custom Values #
#######################
vault_values: &vault_values
  global:
    tlsDisable: false
  injector:
    enabled: false
  openshift: true
  server:
    route:
      host: '""'
    standalone:
      config: |
        ui = true
        listener "tcp" {
          address = "[::]:8200"
          cluster_address = "[::]:8201"
          tls_cert_file = "/var/run/secrets/kubernetes.io/certs/tls.crt"
          tls_key_file = "/var/run/secrets/kubernetes.io/certs/tls.key"
        }
        storage "file" {
          path = "/vault/data"
        }

##############
# üêô Argo Ignore Differences
#############
jenkins_ignore_differences: &jenkins_ignore_differences
  ignoreDifferences:
  - group: apps.openshift.io
    kind: DeploymentConfig
    jsonPointers:
    - /spec/template/spec/containers/0/image
    - /spec/triggers/0/imageChangeParams/lastTriggeredImage
  - group: build.openshift.io
    kind: BuildConfig
    jsonPointers:
    - /spec/triggers

nexus_ignore_differences: &nexus_ignore_differences
  ignoreDifferences:
  - group: route.openshift.io
    kind: Route
    jsonPointers:
    - /status/ingress

hoverflyignore_differences: &hoverfly_ignore_differences
  ignoreDifferences:
  - group: route.openshift.io
    kind: Route
    jsonPointers:
    - /status/ingress
    - /spec/host
  - group: apps/v1
    kind: Deployment
    jsonPointers:
    - /spec/replicas

crw_ignore_differences: &crw_ignore_differences
  ignoreDifferences:
  - group: org.eclipse.che
    kind: CheCluster
    jsonPointers:
    - /spec

dev-ex-dashboard_ignore_differences: &dev-ex-dashboard_ignore_differences
  ignoreDifferences:
  - group: apps.openshift.io
    kind: DeploymentConfig
    jsonPointers:
    - /spec/template/spec/containers/0/image
    - /spec/triggers/0/imageChangeParams/lastTriggeredImage
  - group: ''
    kind: ConfigMap
    jsonPointers:
    - /data

owncloud_ignore_differences: &owncloud_ignore_differences
  ignoreDifferences:
  - group: apps.openshift.io
    kind: DeploymentConfig
    jsonPointers:
    - /spec/template/spec/containers/0/image
    - /spec/triggers/0/imageChangeParams/lastTriggeredImage

vault_ignore_differences: &vault_ignore_differences
  ignoreDifferences:
  - group: route.openshift.io
    kind: Route
    jsonPointers:
    - /status/ingress
    - /spec/host

##############
# üêô Argo Sync Policy
#############
sync_policy_true: &sync_policy_true
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
      validate: true

sync_policy_no_selfheal: &sync_policy_no_selfheal
  syncPolicy:
    automated:
      prune: true
      selfHeal: false
      validate: true

##############
# üõé Argo App of Apps declaration
#############

# enabled true on an app is to tell helm to create an argo app cr for this item
applications:
  - name: nexus
    enabled: true
    source: https://rht-labs.github.io/helm-charts/
    chart_name: sonatype-nexus
    source_path: ""
    source_ref: "0.0.1"
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
    ignore_differences: *nexus_ignore_differences
  - name: jenkins
    enabled: true
    source: https://github.com/rht-labs/helm-charts.git
    source_path: charts/jenkins
    source_ref: "feature/jenkins-sealed-secrets"
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
    values:
      *jenkins_values
    ignore_differences: *jenkins_ignore_differences
  - name: pact-broker
    enabled: true
    source: https://github.com/rht-labs/helm-charts.git
    source_path: charts/pact-broker
    source_ref: "pact-broker-0.0.2"
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
    values:
      *pact_broker_values
  - name: sonarqube
    enabled: true
    source: https://github.com/rht-labs/helm-charts.git
    source_path: charts/sonarqube
    source_ref: "sonarqube-0.0.4"
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
  - name: zalenium
    enabled: true
    source: https://github.com/zalando/zalenium.git
    source_path: charts/zalenium
    source_ref: "master"
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
    values:
      *zalenium_values
  - name: hoverfly
    enabled: true
    source: https://github.com/helm/charts.git
    source_path: incubator/hoverfly
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
    source_ref: "master"
    values:
      *hoverfly_values
    ignore_differences: *hoverfly_ignore_differences
  - name: wekan
    enabled: true
    source: https://github.com/wekan/wekan.git
    source_path: helm/wekan
    sync_policy:
      *sync_policy_true
    destination: *ci_cd_ns
    source_ref: "v4.01"
    values:
      *wekan_values
